import{r as b,u as h,j as e,_ as r,i as w}from"./index-CPBQZ-NW.js";import{B as j}from"./BtnLoader-CAE-T-VD.js";import{v as N}from"./Common-BA2GaHOw.js";const F=()=>{const[l,t]=b.useState({btnloading:!1}),f=h(),g=async()=>{var n,d,i,c,u;try{const s=document.forms.login;if(!N(s))return r.error("Invalid Filed !"),null;t(o=>({...o,btnloading:!0}));const p=new FormData(s),x=Object.fromEntries(p),a=await w.post("login",x);if((n=a==null?void 0:a.data)!=null&&n.success){const o=(i=(d=a==null?void 0:a.data)==null?void 0:d.user)==null?void 0:i.token;localStorage.setItem("token",o),r.success("Login sucessfull"),f("/")}}catch(s){r.error((u=(c=s==null?void 0:s.response)==null?void 0:c.data)==null?void 0:u.message),t(m=>({...m,btnloading:!1}))}};return e.jsx("section",{className:"flex items-center justify-center w-full h-full",children:e.jsxs("form",{className:"p-4 sm:p-0 w-full sm:w-1/2 md:w-2/5 lg:w-1/3 text-sm flex flex-col gap-3",name:"login",children:[e.jsx("h4",{className:"text-red-1100 font-bold text-base sm:text-lg",children:"LOG IN"}),e.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",className:"border border-gray-300 outline-none rounded-lg p-2 focus:ring-1 focus:ring-red-400 focus:border-red-1100",name:"email",id:"email",placeholder:"email",required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",className:"border border-gray-300 outline-none rounded-lg p-2 focus:ring-1 focus:ring-red-400 focus:border-red-1100",name:"password",id:"password",placeholder:"password",required:!0})]}),e.jsx("div",{className:"flex flex-col gap-2 w-full pt-3",children:e.jsxs("button",{type:"button",className:"p-2 w-full h-full bg-red-1100 rounded-lg text-white",onClick:g,disabled:l.btnloading,children:[l.btnloading&&e.jsx(j,{}),l.btnloading?"Loading..":"Login"]})})]})})};export{F as default};
